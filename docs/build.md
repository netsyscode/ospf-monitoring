# 阿里云实验环境

## 一、服务器创建与拓扑

### 1. 服务器分布

一期

| 名称 | 位置     | 公网IP         | 内网IP         |
| ---- | -------- | -------------- | -------------- |
| 总控 | 北京     | 59.110.175.207 | 172.29.45.142  |
| bj1  | 北京     | 47.94.8.103    | 172.29.45.141  |
| sh1  | 上海     | 139.224.223.30 | 172.18.9.165   |
| hz1  | 杭州     | 118.178.238.89 | 172.27.92.124  |
| qd1  | 青岛     | 47.104.105.204 | 172.29.69.30   |
| sz1  | 深圳     | 120.79.158.94  | 172.29.100.196 |
| gz1  | 广州     | 8.134.59.19    | 172.23.28.108  |
| cd1  | 成都     | 47.108.213.86  | 172.19.138.176 |
| hh1  | 呼和浩特 | 39.104.74.124  | 172.31.34.36   |

### 2.服务器密码

https://cloud.tsinghua.edu.cn/f/6bd6dc399ec649dd85cd/?dl=1

### 3.拓扑

https://cloud.tsinghua.edu.cn/f/3a60c8b8f0c84044a146/?dl=1



## 二、服务器系统部署

Centos， 内核5.15.104

FRRouting (version 9.2-dev-ys)



### 1.总控控制（总控服务器）

startup.py -- 通过data文件夹中的拓扑文件输出初始化文件至startup文件夹

remote.py -- 将初始化文件发送至各服务器并执行

初始化文件功能包括：

```
# 配置SNMP的public community为cnpt
# 重启SNMP
# 修改FRR配置文件
# 清空原配置
# 清空所有以gre开头的隧道名称
# 根据拓扑，配置GRE隧道
# 配置FRR的ospf

TODO:
SR相关配置
```



